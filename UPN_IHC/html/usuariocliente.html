<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect" />
  <link as="style" href="https://fonts.googleapis.com/css2?display=swap&family=Work+Sans:wght@400;500;700;900" onload="this.rel='stylesheet'" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script id="tailwind-config">
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            primary: "#54cf17",
            "background-light": "#f6f8f6",
            "background-dark": "#162111",
          },
          fontFamily: {
            display: ["Work Sans"],
          },
          borderRadius: {
            DEFAULT: "0.25rem",
            lg: "0.5rem",
            xl: "0.75rem",
            full: "9999px",
          },
        },
      },
    };
  </script>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <style>
    #map {
      width: 100%;
      height: 100vh;
      border-radius: 0.5rem;
      z-index: 0;
    }
  </style>

  <title>AgroLink - Mapa Perú</title>
  <link href="data:image/x-icon;base64," rel="icon" type="image/x-icon" />
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-gray-800 dark:text-gray-200">
  <div class="flex h-screen flex-col">
    <header class="flex items-center justify-between border-b border-primary/20 dark:border-primary/30 px-6 py-3">
      <div class="flex items-center gap-3">
        <div class="flex items-center justify-center rounded-full bg-primary p-2">
          <span class="material-symbols-outlined text-white">local_shipping</span>
        </div>
        <h1 class="text-xl font-bold text-gray-900 dark:text-white">AgroLink</h1>
      </div>
      <nav class="hidden items-center gap-6 md:flex">
        <a class="text-sm font-medium hover:text-primary dark:hover:text-primary" href="#">Dashboard</a>
        <a class="text-sm font-medium hover:text-primary dark:hover:text-primary" href="#">Mis Envíos</a>
        <a class="text-sm font-medium hover:text-primary dark:hover:text-primary" href="#">Buscar Transportistas</a>
        <a class="text-sm font-medium hover:text-primary dark:hover:text-primary" href="#">Soporte</a>
      </nav>
      <div class="flex items-center gap-4">
        <button class="rounded-full p-2 hover:bg-primary/20 dark:hover:bg-primary/30">
          <span class="material-symbols-outlined">notifications</span>
        </button>
        <div class="size-10 rounded-full bg-cover bg-center" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCIKuFGZnbaANxFNAiZEiRTEDIq_92h8MiONlUv2KB2ZqrsJeLq2AQlvM1u6tlLUnusNemATZAT6HZMKKjl005mBwvGlXLnezSUGdvOGNDLIJ8OM8bKdSdeAZ-BrOlhgRMEn6Tmp4zqpNgeSnKhWEg3pyiaXZ5Uy3IcwOHF4QI-DSCbhzFlJQEDXV2BuvTlqyMOls143NwttHDMPdeQonqqgutbra3gYA54WSGbcP7sqkR00KC3bnZu5Q_oyvxSTR8grtj297jNLg");'></div>
      </div>
    </header>

    <main class="flex flex-1 flex-col lg:flex-row">
      <!-- Mapa -->
      <div class="flex-1 lg:order-2">
        <div class="relative h-full min-h-[400px]">
          <div id="map" class="absolute inset-0"></div>
        </div>
      </div>

      <!-- Panel lateral -->
      <aside class="w-full lg:w-[420px] lg:order-1 bg-background-light dark:bg-background-dark p-6 overflow-y-auto z-10">
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Seguimiento de Envío</h2>
          <p class="text-sm text-gray-600 dark:text-gray-400">Ubicación en tiempo real de su envío activo.</p>
        </div>
        <div class="space-y-6">
          <div>
            <h3 class="mb-4 text-lg font-bold text-gray-900 dark:text-white">Detalles de Envío</h3>
            <div class="space-y-3 rounded-lg border border-primary/20 dark:border-primary/30 bg-primary/5 dark:bg-primary/10 p-4">
              <div class="flex justify-between text-sm">
                <span class="font-medium text-gray-600 dark:text-gray-400">Envío ID</span>
                <span class="font-semibold">SHP-2023-10-27-001</span>
              </div>
              <div class="flex justify-between text-sm">
                <span class="font-medium text-gray-600 dark:text-gray-400">Estado</span>
                <span class="inline-flex items-center rounded-full bg-primary/20 dark:bg-primary/30 px-2.5 py-0.5 text-xs font-semibold text-primary dark:text-white"> In Transit </span>
              </div>
              <div class="flex justify-between text-sm">
                <span class="font-medium text-gray-600 dark:text-gray-400">Origen</span>
                <span class="font-semibold">Puno</span>
              </div>
              <div class="flex justify-between text-sm">
                <span class="font-medium text-gray-600 dark:text-gray-400">Destino</span>
                <span class="font-semibold">Lima</span>
              </div>
            </div>
          </div>

          <div>
            <h3 class="mb-4 text-lg font-bold text-gray-900 dark:text-white">Detalles de Transporte</h3>
            <div class="space-y-3 rounded-lg border border-primary/20 dark:border-primary/30 bg-primary/5 dark:bg-primary/10 p-4">
              <div class="flex justify-between text-sm">
                <span class="font-medium text-gray-600 dark:text-gray-400">Transportista</span>
                <span class="font-semibold">Transportes Rodriguez</span>
              </div>
              <div class="flex justify-between text-sm">
                <span class="font-medium text-gray-600 dark:text-gray-400">Tipo de Vehículo</span>
                <span class="font-semibold">Semi-Truck</span>
              </div>
              <div class="flex justify-between text-sm">
                <span class="font-medium text-gray-600 dark:text-gray-400">Contacto</span>
                <span class="font-semibold text-primary hover:underline">+51 987 654 320</span>
              </div>
            </div>
          </div>
        </div>
      </aside>
    </main>
  </div>

  <script>
    // Coordenadas de Puno y Lima
    const coordPuno = [-15.8402, -70.0219];
    const coordLima = [-12.0464, -77.0428];

    // Inicializar mapa centrado en Perú
    const map = L.map('map').setView([-13.5, -74], 6);

    // Cargar mapa base
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 18,
      attribution: '© OpenStreetMap'
    }).addTo(map);

    // Agregar marcadores
    L.marker(coordPuno).addTo(map).bindPopup('<b>Puno</b>');
    L.marker(coordLima).addTo(map).bindPopup('<b>Lima</b>');

    // Dibujar línea entre Puno y Lima
    const route = L.polyline([coordPuno, coordLima], { color: 'green', weight: 4 }).addTo(map);
    map.fitBounds(route.getBounds());

    // Arreglar tamaño si el mapa se carga oculto
    setTimeout(() => {
      map.invalidateSize();
    }, 500);
  </script>
</body>
</html>
